"use strict";(self.webpackChunkpodman=self.webpackChunkpodman||[]).push([[83217],{3905:(e,n,t)=>{t.d(n,{Zo:()=>d,kt:()=>h});var a=t(67294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,o=function(e,n){if(null==e)return{};var t,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=a.createContext({}),p=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},d=function(e){var n=p(e.components);return a.createElement(s.Provider,{value:n},e.children)},u="mdxType",c={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},m=a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),u=p(t),m=o,h=u["".concat(s,".").concat(m)]||u[m]||c[m]||r;return t?a.createElement(h,i(i({ref:n},d),{},{components:t})):a.createElement(h,i({ref:n},d))}));function h(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var r=t.length,i=new Array(r);i[0]=m;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l[u]="string"==typeof e?e:o,i[1]=l;for(var p=2;p<r;p++)i[p]=t[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},89803:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>i,default:()=>c,frontMatter:()=>r,metadata:()=>l,toc:()=>p});var a=t(87462),o=(t(67294),t(3905));const r={title:"Podman Installation"},i="Podman Installation Instructions",l={unversionedId:"installation",id:"installation",title:"Podman Installation",description:"Looking for a GUI? You can find Podman Desktop here.",source:"@site/docs/installation.md",sourceDirName:".",slug:"/installation",permalink:"/docs/installation",draft:!1,editUrl:"https://github.com/containers/podman.io/tree/main/docs/installation.md",tags:[],version:"current",frontMatter:{title:"Podman Installation"},sidebar:"docsSidebar",previous:{title:"Getting Started with Podman",permalink:"/docs/"},next:{title:"Podman Checkpoint",permalink:"/docs/checkpoint"}},s={},p=[{value:"Installing on Mac &amp; Windows",id:"installing-on-mac--windows",level:2},{value:"macOS",id:"macos",level:3},{value:"Windows",id:"windows",level:3},{value:"Installing on Linux",id:"installing-on-linux",level:2},{value:"Linux Distributions",id:"linux-distributions",level:3},{value:"Arch Linux &amp; Manjaro Linux",id:"arch-linux--manjaro-linux",level:4},{value:"Alpine Linux",id:"alpine-linux",level:4},{value:"CentOS Stream",id:"centos-stream",level:4},{value:"Debian",id:"debian",level:4},{value:"Fedora",id:"fedora",level:4},{value:"Fedora CoreOS, Fedora Silverblue",id:"fedora-coreos-fedora-silverblue",level:4},{value:"Gentoo",id:"gentoo",level:4},{value:"OpenEmbedded",id:"openembedded",level:4},{value:"openSUSE",id:"opensuse",level:4},{value:"openSUSE Kubic",id:"opensuse-kubic",level:4},{value:"Raspberry Pi OS arm64 (beta)",id:"raspberry-pi-os-arm64-beta",level:4},{value:"RHEL",id:"rhel",level:4},{value:"Ubuntu",id:"ubuntu",level:4},{value:"Linux Mint",id:"linux-mint",level:4},{value:"Installing development versions of Podman",id:"installing-development-versions-of-podman",level:3},{value:"Fedora",id:"fedora-1",level:4},{value:"Installing bleeding-edge versions of Podman",id:"installing-bleeding-edge-versions-of-podman",level:3},{value:"Installing on FreeBSD 14.0",id:"installing-on-freebsd-140",level:2},{value:"Initial configuration",id:"initial-configuration",level:4},{value:"Networking",id:"networking",level:5},{value:"Storage",id:"storage",level:5},{value:"Verification",id:"verification",level:5},{value:"Linux Emulation",id:"linux-emulation",level:5},{value:"Building from Source",id:"building-from-source",level:2},{value:"Build and Run Dependencies",id:"build-and-run-dependencies",level:3},{value:"Building missing dependencies",id:"building-missing-dependencies",level:3},{value:"golang",id:"golang",level:4},{value:"conmon",id:"conmon",level:4},{value:"crun / runc",id:"crun--runc",level:4},{value:"Add configuration",id:"add-configuration",level:4},{value:"Optional packages",id:"optional-packages",level:4},{value:"Get Source Code",id:"get-source-code",level:3},{value:"Build Tags",id:"build-tags",level:4},{value:"Vendoring - Dependency Management",id:"vendoring---dependency-management",level:3},{value:"Ansible",id:"ansible",level:2},{value:"Configuration files",id:"configuration-files",level:2},{value:"registries.conf",id:"registriesconf",level:3},{value:"Man Page: registries.conf.5",id:"man-page-registriesconf5",level:4},{value:"Example from the Fedora <code>containers-common</code> package",id:"example-from-the-fedora-containers-common-package",level:4},{value:"mounts.conf",id:"mountsconf",level:3},{value:"Example from the Fedora <code>containers-common</code> package:",id:"example-from-the-fedora-containers-common-package-1",level:4},{value:"seccomp.json",id:"seccompjson",level:3},{value:"policy.json",id:"policyjson",level:3},{value:"Man Page: policy.json.5",id:"man-page-policyjson5",level:4},{value:"Example from the Fedora <code>containers-common</code> package:",id:"example-from-the-fedora-containers-common-package-2",level:4}],d={toc:p},u="wrapper";function c(e){let{components:n,...t}=e;return(0,o.kt)(u,(0,a.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"podman-installation-instructions"},"Podman Installation Instructions"),(0,o.kt)("p",null,"Looking for a GUI? You can find Podman Desktop ",(0,o.kt)("a",{parentName:"p",href:"https://podman-desktop.io/downloads"},"here"),"."),(0,o.kt)("h2",{id:"installing-on-mac--windows"},"Installing on Mac & Windows"),(0,o.kt)("p",null,'While "containers are Linux," Podman also runs on Mac and Windows, where it\nprovides a native podman CLI and embeds a guest Linux system to launch your\ncontainers. This guest is referred to as a Podman machine and is managed with\nthe ',(0,o.kt)("inlineCode",{parentName:"p"},"podman machine")," command. Podman on Mac and Windows also listens for\nDocker API clients, supporting direct usage of Docker-based tools and\nprogrammatic access from your language of choice."),(0,o.kt)("h3",{id:"macos"},"macOS"),(0,o.kt)("p",null,"On Mac, each Podman machine is backed by a virtual machine.\nOnce installed, the podman command can be run directly from\nthe Unix shell in ",(0,o.kt)("inlineCode",{parentName:"p"},"Terminal"),", where it remotely communicates with the podman\nservice running in the Machine VM."),(0,o.kt)("details",{open:!0},(0,o.kt)("summary",null,"Download Podman Installer (Recommended)"),(0,o.kt)("p",null,"Podman can be downloaded from the ",(0,o.kt)("a",{parentName:"p",href:"https://podman.io"},"Podman.io")," website."),(0,o.kt)("p",null,"We also upload the installers and other binaries on our ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/containers/podman/releases"},"GitHub release page"),".")),(0,o.kt)("p",null,"Though not recommended, Podman can also be obtained through Homebrew,\nthe package manager."),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Install via Brew"),(0,o.kt)("p",null,"Since Brew is a community-maintained package manager, we cannot guarantee stability\nof Brew installs of Podman. Thus, installing via Brew is not recommended."),(0,o.kt)("p",null,"However, if you do wish to use Brew, you must first install ",(0,o.kt)("a",{parentName:"p",href:"https://brew.sh/"},"Homebrew"),". Once you\nhave set up brew, you can use the ",(0,o.kt)("inlineCode",{parentName:"p"},"brew install")," command to install Podman:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"brew install podman\n"))),(0,o.kt)("p",null,"After installing, you need to create and start your first Podman machine:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"podman machine init\npodman machine start\n")),(0,o.kt)("p",null,"You can then verify the installation information using:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"podman info\n")),(0,o.kt)("p",null,"We also provide binaries and a pkginstaller on our ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/containers/podman/releases"},"GitHub release page")),(0,o.kt)("h3",{id:"windows"},"Windows"),(0,o.kt)("p",null,"On Windows, each Podman machine is backed by a virtualized Windows Subsystem for\nLinux (WSLv2) distribution. Once installed, the podman command can be run\ndirectly from your Windows PowerShell (or CMD) prompt, where it remotely\ncommunicates with the podman service running in the WSL environment.\nAlternatively, you can access Podman directly from the WSL instance if you\nprefer a Linux prompt and Linux tooling."),(0,o.kt)("p",null,"See the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/containers/podman/blob/main/docs/tutorials/podman-for-windows.md"},"Podman for Windows guide")," for setup and usage instructions."),(0,o.kt)("h2",{id:"installing-on-linux"},"Installing on Linux"),(0,o.kt)("h3",{id:"linux-distributions"},"Linux Distributions"),(0,o.kt)("h4",{id:"arch-linux--manjaro-linux"},(0,o.kt)("a",{parentName:"h4",href:"https://www.archlinux.org"},"Arch Linux")," & ",(0,o.kt)("a",{parentName:"h4",href:"https://manjaro.org"},"Manjaro Linux")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"sudo pacman -S podman\n")),(0,o.kt)("p",null,"If you have problems when running Podman in ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/containers/podman/blob/main/README.md#rootless"},"rootless")," mode follow the instructions ",(0,o.kt)("a",{parentName:"p",href:"https://wiki.archlinux.org/index.php/Linux_Containers#Enable_support_to_run_unprivileged_containers_(optional)"},"here")),(0,o.kt)("p",null,"For more information on Podman on ArchLinux ",(0,o.kt)("a",{parentName:"p",href:"https://wiki.archlinux.org/title/Podman"},"click here")),(0,o.kt)("h4",{id:"alpine-linux"},(0,o.kt)("a",{parentName:"h4",href:"https://alpinelinux.org"},"Alpine Linux")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apk add podman\n")),(0,o.kt)("p",null,"For further details, please refer to the instructions on the ",(0,o.kt)("a",{parentName:"p",href:"https://wiki.alpinelinux.org/wiki/Podman"},"Alpine Linux wiki"),"."),(0,o.kt)("h4",{id:"centos-stream"},(0,o.kt)("a",{parentName:"h4",href:"https://www.centos.org"},"CentOS Stream")),(0,o.kt)("p",null,"Podman is available in the default in the AppStream repo for CentOS Stream 9+."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"sudo dnf -y install podman\n")),(0,o.kt)("h4",{id:"debian"},(0,o.kt)("a",{parentName:"h4",href:"https://debian.org"},"Debian")),(0,o.kt)("p",null,"The podman package is available in the Debian 11 (Bullseye) repositories and later."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt-get -y install podman\n")),(0,o.kt)("h4",{id:"fedora"},(0,o.kt)("a",{parentName:"h4",href:"https://getfedora.org"},"Fedora")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"sudo dnf -y install podman\n")),(0,o.kt)("p",null,"To run ",(0,o.kt)("inlineCode",{parentName:"p"},"podman machine ...")," commands"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"sudo dnf -y install podman-machine\n")),(0,o.kt)("p",null,"slirp4netns is no longer the default for rootless networking on new podman installations, obsoleted in favor\nof ",(0,o.kt)("a",{parentName:"p",href:"https://passt.top/passt/about/"},"passt"),". If you have containers using slirp4netns, make sure slirp4netns is\ninstalled:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"sudo dnf -y install slirp4netns\n")),(0,o.kt)("h4",{id:"fedora-coreos-fedora-silverblue"},(0,o.kt)("a",{parentName:"h4",href:"https://coreos.fedoraproject.org"},"Fedora CoreOS"),", ",(0,o.kt)("a",{parentName:"h4",href:"https://silverblue.fedoraproject.org"},"Fedora Silverblue")),(0,o.kt)("p",null,"Built-in, no need to install"),(0,o.kt)("h4",{id:"gentoo"},(0,o.kt)("a",{parentName:"h4",href:"https://www.gentoo.org"},"Gentoo")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"sudo emerge app-containers/podman\n")),(0,o.kt)("h4",{id:"openembedded"},(0,o.kt)("a",{parentName:"h4",href:"https://www.openembedded.org"},"OpenEmbedded")),(0,o.kt)("p",null,"Bitbake recipes for Podman and its dependencies are available in the\n",(0,o.kt)("a",{parentName:"p",href:"https://git.yoctoproject.org/cgit/cgit.cgi/meta-virtualization/"},"meta-virtualization layer"),".\nAdd the layer to your OpenEmbedded build environment and build Podman using:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"bitbake podman\n")),(0,o.kt)("h4",{id:"opensuse"},(0,o.kt)("a",{parentName:"h4",href:"https://www.opensuse.org"},"openSUSE")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"sudo zypper install podman\n")),(0,o.kt)("h4",{id:"opensuse-kubic"},(0,o.kt)("a",{parentName:"h4",href:"https://kubic.opensuse.org"},"openSUSE Kubic")),(0,o.kt)("p",null,"Built-in, no need to install"),(0,o.kt)("h4",{id:"raspberry-pi-os-arm64-beta"},(0,o.kt)("a",{parentName:"h4",href:"https://downloads.raspberrypi.org/raspios_arm64/images/"},"Raspberry Pi OS arm64 (beta)")),(0,o.kt)("p",null,"Raspberry Pi OS use the standard Debian repositories,\nso it is fully compatible with Debian's arm64 repository.\nYou can simply follow the ",(0,o.kt)("a",{parentName:"p",href:"#debian"},"steps for Debian")," to install Podman."),(0,o.kt)("h4",{id:"rhel"},(0,o.kt)("a",{parentName:"h4",href:"https://www.redhat.com/en/technologies/linux-platforms/enterprise-linux"},"RHEL")),(0,o.kt)("p",null,"Follow the ",(0,o.kt)("a",{parentName:"p",href:"https://access.redhat.com/solutions/3650231"},"official docs"),"."),(0,o.kt)("h4",{id:"ubuntu"},(0,o.kt)("a",{parentName:"h4",href:"https://www.ubuntu.com"},"Ubuntu")),(0,o.kt)("p",null,"The podman package is available in the official repositories for Ubuntu 20.10\nand newer."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"# Ubuntu 20.10 and newer\nsudo apt-get update\nsudo apt-get -y install podman\n")),(0,o.kt)("h4",{id:"linux-mint"},(0,o.kt)("a",{parentName:"h4",href:"https://linuxmint.com"},"Linux Mint")),(0,o.kt)("p",null,"Follow the steps for Ubuntu (or Debian if you use LMDE)."),(0,o.kt)("h3",{id:"installing-development-versions-of-podman"},"Installing development versions of Podman"),(0,o.kt)("h4",{id:"fedora-1"},(0,o.kt)("a",{parentName:"h4",href:"https://getfedora.org"},"Fedora")),(0,o.kt)("p",null,"You can test the very latest Podman in Fedora's ",(0,o.kt)("inlineCode",{parentName:"p"},"updates-testing"),"\nrepository before it goes out to all Fedora users."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"sudo dnf update --refresh --enablerepo=updates-testing podman\n")),(0,o.kt)("p",null,"If you use a newer Podman package from Fedora's ",(0,o.kt)("inlineCode",{parentName:"p"},"updates-testing"),", we would\nappreciate your ",(0,o.kt)("inlineCode",{parentName:"p"},"+1")," feedback in ",(0,o.kt)("a",{parentName:"p",href:"https://bodhi.fedoraproject.org/updates/?packages=podman"},"Bodhi, Fedora's update management\nsystem"),"."),(0,o.kt)("h3",{id:"installing-bleeding-edge-versions-of-podman"},"Installing bleeding-edge versions of Podman"),(0,o.kt)("p",null,"If you like danger and are interested in testing the latest\nunreleased bits of Podman on Fedora, CentOS Stream 9+ and RHEL9+, we have a ",(0,o.kt)("a",{parentName:"p",href:"https://copr.fedorainfracloud.org/coprs/rhcontainerbot/podman-next/"},"Copr repository"),"."),(0,o.kt)("p",null,"CAUTION: This repository contains rpm builds generated using the ",(0,o.kt)("inlineCode",{parentName:"p"},"main")," branch\nof upstream container tools repositories, and simply CANNOT be recommended for\nany production use."),(0,o.kt)("p",null,"Enable the Copr and install podman."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"sudo dnf copr enable rhcontainerbot/podman-next -y\nsudo dnf install podman\n")),(0,o.kt)("h2",{id:"installing-on-freebsd-140"},"Installing on ",(0,o.kt)("a",{parentName:"h2",href:"https://freebsd.org"},"FreeBSD")," 14.0"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"[!WARNING]","\nThe FreeBSD port of the Podman container engine is experimental and should be used for evaluation and testing purposes only.")),(0,o.kt)("p",null,"You can install Podman on FreeBSD using ",(0,o.kt)("inlineCode",{parentName:"p"},"pkg"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"pkg install podman\n")),(0,o.kt)("p",null,"There's also a ",(0,o.kt)("inlineCode",{parentName:"p"},"podman-suite")," meta package that will pull additional packages for you (buildah, skopeo)."),(0,o.kt)("h4",{id:"initial-configuration"},"Initial configuration"),(0,o.kt)("p",null,"To properly support Podman's container restart policy, conmon needs ",(0,o.kt)("inlineCode",{parentName:"p"},"fdescfs(5)")," to be mounted on ",(0,o.kt)("inlineCode",{parentName:"p"},"/dev/fd"),"."),(0,o.kt)("p",null,"If ",(0,o.kt)("inlineCode",{parentName:"p"},"/dev/fd")," is not already mounted:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"mount -t fdescfs fdesc /dev/fd\n")),(0,o.kt)("p",null,"To make it permanent, add the following line to ",(0,o.kt)("inlineCode",{parentName:"p"},"/etc/fstab"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"fdesc   /dev/fd         fdescfs         rw      0       0\n")),(0,o.kt)("p",null,"To start Podman after reboot:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"service podman enable\n")),(0,o.kt)("h5",{id:"networking"},"Networking"),(0,o.kt)("p",null,"Container networking relies on NAT to allow container network packets out to the host's network. This requires a PF firewall to perform the translation. A simple example is included - to use it:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"cp /usr/local/etc/containers/pf.conf.sample /etc/pf.conf\n")),(0,o.kt)("p",null,"Edit ",(0,o.kt)("inlineCode",{parentName:"p"},"/etc/pf.conf")," and set ",(0,o.kt)("inlineCode",{parentName:"p"},"v4egress_if"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"v6egress_if")," variables to your network interface(s)s"),(0,o.kt)("p",null,"Enable and start ",(0,o.kt)("inlineCode",{parentName:"p"},"pf"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"service pf enable\nservice pf start\n")),(0,o.kt)("p",null,"The sample PF configuration includes support for port redirections. These are implemented as redirect rules in anchors nested under cni-rdr."),(0,o.kt)("p",null,"Support for redirecting connections from the container host to services running inside a container is included for FreeBSD 13.3 and later. To enable this, first load the pf kernel module and enable PF support for these redirections using sysctl:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"echo 'pf_load=\"YES\"' >> /boot/loader.conf\nkldload pf\nsysctl net.pf.filter_local=1\necho 'net.pf.filter_local=1' >> /etc/sysctl.conf.local\nservice pf restart\n")),(0,o.kt)("p",null,"Redirect rules will work if the destination address is localhost (e.g. 127.0.0.1 or ::1) - to enable this, the following line must be included in your ",(0,o.kt)("inlineCode",{parentName:"p"},"/etc/pf.conf"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'nat-anchor "cni-rdr/*"\n')),(0,o.kt)("p",null,"if upgrading from an older version, this needs to be added to ",(0,o.kt)("inlineCode",{parentName:"p"},"/etc/pf.conf"),"."),(0,o.kt)("p",null,"For example if host port 1234 is redirected to an http service running in a\ncontainer, you could connect to it using:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"fetch -o- http://$(hostname):1234\n")),(0,o.kt)("p",null,"or"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"fetch -o- http://localhost:1234\n")),(0,o.kt)("h5",{id:"storage"},"Storage"),(0,o.kt)("p",null,"Container images and related state is stored in ",(0,o.kt)("inlineCode",{parentName:"p"},"/var/db/containers"),". It is recommended to use ZFS for this:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"zfs create -o mountpoint=/var/db/containers zroot/containers\n")),(0,o.kt)("p",null,"If your system cannot use ZFS, change ",(0,o.kt)("inlineCode",{parentName:"p"},"storage.conf")," to use the ",(0,o.kt)("inlineCode",{parentName:"p"},"vfs")," storage driver:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'sed -I .bak -e \'s/driver = "zfs"/driver = "vfs"/\' /usr/local/etc/containers/storage.conf\n')),(0,o.kt)("h5",{id:"verification"},"Verification"),(0,o.kt)("p",null,"After following these steps you should be able to run native images:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"podman run --rm docker.io/dougrabson/hello\n")),(0,o.kt)("h5",{id:"linux-emulation"},"Linux Emulation"),(0,o.kt)("p",null,"It is possible to run many Linux container images using FreeBSD's Linux emulation:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'sudo sysrc linux_enable=YES\nsudo service linux start\nsudo podman run --rm --os=linux docker.io/library/alpine cat /etc/os-release | head -1\nNAME="Alpine Linux"\n')),(0,o.kt)("h2",{id:"building-from-source"},"Building from Source"),(0,o.kt)("h3",{id:"build-and-run-dependencies"},"Build and Run Dependencies"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Required")),(0,o.kt)("p",null,"On Fedora:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"# Install build dependencies\nsudo dnf -y builddep rpm/podman.spec\n\n# Install runtime dependencies\nsudo dnf -y install catatonit conmon containers-common-extra\n")),(0,o.kt)("p",null,"On all RHEL and CentOS Stream, first install ",(0,o.kt)("inlineCode",{parentName:"p"},"dnf-builddep"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"sudo dnf -y install 'dnf-command(builddep)'\n")),(0,o.kt)("p",null,"Install build dependencies:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"# CentOS Stream 9+\nsudo dnf -y builddep rpm/podman.spec --enablerepo=crb\n\n# RHEL 9+\nsudo dnf -y builddep rpm/podman.spec --enablerepo=codeready-builder-for-rhel-$(rpm --eval %{?rhel})-$(uname -m)-rpms\n")),(0,o.kt)("p",null,"Install runtime dependencies:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"sudo dnf -y install \\\n  conmon \\\n  containers-common \\\n  crun \\\n  iptables \\\n  netavark \\\n  nftables \\\n  slirp4netns\n")),(0,o.kt)("p",null,"Debian, Ubuntu, and related distributions:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt-get install \\\n  btrfs-progs \\\n  gcc \\\n  git \\\n  golang-go \\\n  go-md2man \\\n  iptables \\\n  libassuan-dev \\\n  libbtrfs-dev \\\n  libc6-dev \\\n  libdevmapper-dev \\\n  libglib2.0-dev \\\n  libgpgme-dev \\\n  libgpg-error-dev \\\n  libprotobuf-dev \\\n  libprotobuf-c-dev \\\n  libseccomp-dev \\\n  libselinux1-dev \\\n  libsystemd-dev \\\n  make \\\n  netavark \\\n  passt \\\n  pkg-config \\\n  runc \\\n  uidmap\n")),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"netavark")," package may not be available on older Debian / Ubuntu\nversions. Install the ",(0,o.kt)("inlineCode",{parentName:"p"},"containernetworking-plugins")," package instead."),(0,o.kt)("p",null,"On openSUSE Leap 15.x and Tumbleweed:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"sudo zypper -n in libseccomp-devel libgpgme-devel\n")),(0,o.kt)("p",null,"On Manjaro (and maybe other Linux distributions):"),(0,o.kt)("p",null,"Make sure that the Linux kernel supports user namespaces:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"> zgrep CONFIG_USER_NS /proc/config.gz\nCONFIG_USER_NS=y\n\n")),(0,o.kt)("p",null,"If not, please update the kernel.\nFor Manjaro Linux the instructions can be found here:\n",(0,o.kt)("a",{parentName:"p",href:"https://wiki.manjaro.org/index.php/Manjaro_Kernels"},"https://wiki.manjaro.org/index.php/Manjaro_Kernels")),(0,o.kt)("p",null,"After that enable user namespaces:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"sudo sysctl kernel.unprivileged_userns_clone=1\n")),(0,o.kt)("p",null,"To enable the user namespaces permanently:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"echo 'kernel.unprivileged_userns_clone=1' > /etc/sysctl.d/userns.conf\n")),(0,o.kt)("h3",{id:"building-missing-dependencies"},"Building missing dependencies"),(0,o.kt)("p",null,"If any dependencies cannot be installed or are not sufficiently current, they have to be built from source.\nThis will mainly affect Debian, Ubuntu, and related distributions, or RHEL where no subscription is active (e.g. Cloud VMs)."),(0,o.kt)("h4",{id:"golang"},"golang"),(0,o.kt)("p",null,"Be careful to double-check that the version of golang is new enough (i.e. ",(0,o.kt)("inlineCode",{parentName:"p"},"go version"),"), as of January 2022 version is 1.16.x or higher is required.\nThe current minimum required version can always be found in the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/containers/podman/blob/main/go.mod"},"go.mod")," file.\nIf needed, golang kits are available at ",(0,o.kt)("a",{parentName:"p",href:"https://golang.org/dl/"},"https://golang.org/dl/"),". Alternatively, go can be built from source as follows\n(it's helpful to leave the system-go installed, to avoid having to ",(0,o.kt)("a",{parentName:"p",href:"https://golang.org/doc/install/source"},"bootstrap go"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"export GOPATH=~/go\ngit clone https://go.googlesource.com/go $GOPATH\ncd $GOPATH\ncd src\n./all.bash\nexport PATH=$GOPATH/bin:$PATH\n")),(0,o.kt)("h4",{id:"conmon"},"conmon"),(0,o.kt)("p",null,"The latest version of ",(0,o.kt)("inlineCode",{parentName:"p"},"conmon")," is expected to be installed on the system. Conmon is used to monitor OCI Runtimes.\nTo build from source, use the following:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'git clone https://github.com/containers/conmon\ncd conmon\nexport GOCACHE="$(mktemp -d)"\nmake\nsudo make podman\n')),(0,o.kt)("h4",{id:"crun--runc"},"crun / runc"),(0,o.kt)("p",null,"The latest version of at least one container runtime is expected to be installed on the system. ",(0,o.kt)("inlineCode",{parentName:"p"},"crun")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"runc")," are some of the possibilities, and one is picked up as the default runtime by Podman (crun has priority over runc).\nSupported versions of ",(0,o.kt)("inlineCode",{parentName:"p"},"crun")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"runc")," are available for example on Ubuntu 22.04.\n",(0,o.kt)("inlineCode",{parentName:"p"},"runc")," version 1.0.0-rc4 is the minimal requirement, which is available since Ubuntu 18.04."),(0,o.kt)("p",null,"To double-check, ",(0,o.kt)("inlineCode",{parentName:"p"},"runc --version")," should produce at least ",(0,o.kt)("inlineCode",{parentName:"p"},"spec: 1.0.1"),", otherwise build your own:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'git clone https://github.com/opencontainers/runc.git $GOPATH/src/github.com/opencontainers/runc\ncd $GOPATH/src/github.com/opencontainers/runc\nmake BUILDTAGS="selinux seccomp"\nsudo cp runc /usr/bin/runc\n')),(0,o.kt)("h4",{id:"add-configuration"},"Add configuration"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"sudo mkdir -p /etc/containers\nsudo curl -L -o /etc/containers/registries.conf https://raw.githubusercontent.com/containers/image/main/registries.conf\nsudo curl -L -o /etc/containers/policy.json https://raw.githubusercontent.com/containers/image/main/default-policy.json\n")),(0,o.kt)("h4",{id:"optional-packages"},"Optional packages"),(0,o.kt)("p",null,"Fedora, CentOS, RHEL, and related distributions:"),(0,o.kt)("p",null,"(no optional packages)"),(0,o.kt)("p",null,"Debian, Ubuntu, and related distributions:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"apt-get install -y \\\n  libapparmor-dev\n")),(0,o.kt)("h3",{id:"get-source-code"},"Get Source Code"),(0,o.kt)("p",null,"First, ensure that the ",(0,o.kt)("inlineCode",{parentName:"p"},"go version")," that is found first on the $PATH is 1.16.x or higher. Instruction ",(0,o.kt)("a",{parentName:"p",href:"#golang"},"above")," will help you compile newer version of Go if needed. Then we can build Podman:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'git clone https://github.com/containers/podman/\ncd podman\nmake BUILDTAGS="selinux seccomp" PREFIX=/usr\nsudo env PATH=$PATH make install PREFIX=/usr\n')),(0,o.kt)("h4",{id:"build-tags"},"Build Tags"),(0,o.kt)("p",null,"Otherwise, if you do not want to build Podman with seccomp or selinux support you can add ",(0,o.kt)("inlineCode",{parentName:"p"},'BUILDTAGS=""')," when running make."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'make BUILDTAGS=""\nsudo make install\n')),(0,o.kt)("p",null,"Podman supports optional build tags for compiling support of various features.\nTo add build tags to the make option the ",(0,o.kt)("inlineCode",{parentName:"p"},"BUILDTAGS")," variable must be set, for example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"make BUILDTAGS='seccomp apparmor'\n")),(0,o.kt)("p",null,"If you are building on RHEL8 you'll need to build without btrfs support due to ",(0,o.kt)("a",{parentName:"p",href:"https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/8/html/considerations_in_adopting_rhel_8/file-systems-and-storage_considerations-in-adopting-rhel-8#btrfs-has-been-removed_file-systems-and-storage"},"it being removed"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'make BUILDTAGS="btrfs_noversion exclude_graphdriver_btrfs"\n')),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"Build Tag"),(0,o.kt)("th",{parentName:"tr",align:null},"Feature"),(0,o.kt)("th",{parentName:"tr",align:null},"Dependency"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"apparmor"),(0,o.kt)("td",{parentName:"tr",align:null},"apparmor support"),(0,o.kt)("td",{parentName:"tr",align:null},"libapparmor")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"cni"),(0,o.kt)("td",{parentName:"tr",align:null},"CNI networking"),(0,o.kt)("td",{parentName:"tr",align:null})),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"exclude_graphdriver_btrfs"),(0,o.kt)("td",{parentName:"tr",align:null},"exclude btrfs"),(0,o.kt)("td",{parentName:"tr",align:null},"libbtrfs")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"exclude_graphdriver_devicemapper"),(0,o.kt)("td",{parentName:"tr",align:null},"exclude device-mapper"),(0,o.kt)("td",{parentName:"tr",align:null},"libdm")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"libdm_no_deferred_remove"),(0,o.kt)("td",{parentName:"tr",align:null},"exclude deferred removal in libdm"),(0,o.kt)("td",{parentName:"tr",align:null},"libdm")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"seccomp"),(0,o.kt)("td",{parentName:"tr",align:null},"syscall filtering"),(0,o.kt)("td",{parentName:"tr",align:null},"libseccomp")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"selinux"),(0,o.kt)("td",{parentName:"tr",align:null},"selinux process and mount labeling"),(0,o.kt)("td",{parentName:"tr",align:null})),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"systemd"),(0,o.kt)("td",{parentName:"tr",align:null},"journald logging"),(0,o.kt)("td",{parentName:"tr",align:null},"libsystemd")))),(0,o.kt)("p",null,"Note that Podman does not officially support device-mapper. Thus, the ",(0,o.kt)("inlineCode",{parentName:"p"},"exclude_graphdriver_devicemapper")," tag is mandatory."),(0,o.kt)("h3",{id:"vendoring---dependency-management"},"Vendoring - Dependency Management"),(0,o.kt)("p",null,"This project is using ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/golang/go/wiki/Modules"},"go modules")," for dependency management. If the CI is complaining about a pull request leaving behind an unclean state, it is very likely right about it. After changing dependencies, make sure to run ",(0,o.kt)("inlineCode",{parentName:"p"},"make vendor")," to synchronize the code with the go module and repopulate the ",(0,o.kt)("inlineCode",{parentName:"p"},"./vendor")," directory."),(0,o.kt)("h2",{id:"ansible"},"Ansible"),(0,o.kt)("p",null,"An ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/alvistack/ansible-role-podman"},"Ansible Role")," is\nalso available to automate the installation of the above statically\nlinked binary on its supported OS:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"sudo su -\nmkdir -p ~/.ansible/roles\ncd ~/.ansible/roles\ngit clone https://github.com/alvistack/ansible-role-podman.git podman\ncd ~/.ansible/roles/podman\npip3 install --upgrade --ignore-installed --requirement requirements.txt\nmolecule converge\nmolecule verify\n")),(0,o.kt)("h2",{id:"configuration-files"},"Configuration files"),(0,o.kt)("h3",{id:"registriesconf"},(0,o.kt)("a",{parentName:"h3",href:"https://raw.githubusercontent.com/containers/image/main/registries.conf"},"registries.conf")),(0,o.kt)("h4",{id:"man-page-registriesconf5"},"Man Page: ",(0,o.kt)("a",{parentName:"h4",href:"https://github.com/containers/image/blob/main/docs/containers-registries.conf.5.md"},"registries.conf.5")),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"/etc/containers/registries.conf")),(0,o.kt)("p",null,"registries.conf is the configuration file which specifies which container registries should be consulted when completing image names which do not include a registry or domain portion."),(0,o.kt)("p",null,"NOTE: On macOS or Windows, please run the command ",(0,o.kt)("inlineCode",{parentName:"p"},"podman machine ssh")," to enter the machine VM and edit the ",(0,o.kt)("inlineCode",{parentName:"p"},"/etc/containers/registries.conf")," file with the same configuration content. If you encounter permission issues, run ",(0,o.kt)("inlineCode",{parentName:"p"},"podman machine set --rootful")," and try again."),(0,o.kt)("h4",{id:"example-from-the-fedora-containers-common-package"},"Example from the Fedora ",(0,o.kt)("inlineCode",{parentName:"h4"},"containers-common")," package"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'$ cat /etc/containers/registries.conf\n# For more information on this configuration file, see containers-registries.conf(5).\n#\n# NOTE: RISK OF USING UNQUALIFIED IMAGE NAMES\n# We recommend always using fully qualified image names including the registry\n# server (full dns name), namespace, image name, and tag\n# (e.g., registry.redhat.io/ubi8/ubi:latest). Pulling by digest (i.e.,\n# quay.io/repository/name@digest) further eliminates the ambiguity of tags.\n# When using short names, there is always an inherent risk that the image being\n# pulled could be spoofed. For example, a user wants to pull an image named\n# `foobar` from a registry and expects it to come from myregistry.com. If\n# myregistry.com is not first in the search list, an attacker could place a\n# different `foobar` image at a registry earlier in the search list. The user\n# would accidentally pull and run the attacker\'s image and code rather than the\n# intended content. We recommend only adding registries which are completely\n# trusted (i.e., registries which don\'t allow unknown or anonymous users to\n# create accounts with arbitrary names). This will prevent an image from being\n# spoofed, squatted or otherwise made insecure.  If it is necessary to use one\n# of these registries, it should be added at the end of the list.\n#\n# # An array of host[:port] registries to try when pulling an unqualified image, in order.\nunqualified-search-registries = ["registry.fedoraproject.org", "registry.access.redhat.com", "docker.io"]\n#\n# [[registry]]\n# # The "prefix" field is used to choose the relevant [[registry]] TOML table;\n# # (only) the TOML table with the longest match for the input image name\n# # (taking into account namespace/repo/tag/digest separators) is used.\n# #\n# # If the prefix field is missing, it defaults to be the same as the "location" field.\n# prefix = "example.com/foo"\n#\n# # If true, unencrypted HTTP as well as TLS connections with untrusted\n# # certificates are allowed.\n# insecure = false\n#\n# # If true, pulling images with matching names is forbidden.\n# blocked = false\n#\n# # The physical location of the "prefix"-rooted namespace.\n# #\n# # By default, this equal to "prefix" (in which case "prefix" can be omitted\n# # and the [[registry]] TOML table can only specify "location").\n# #\n# # Example: Given\n# #   prefix = "example.com/foo"\n# #   location = "internal-registry-for-example.net/bar"\n# # requests for the image example.com/foo/myimage:latest will actually work with the\n# # internal-registry-for-example.net/bar/myimage:latest image.\n# location = "internal-registry-for-example.com/bar"\n#\n# # (Possibly-partial) mirrors for the "prefix"-rooted namespace.\n# #\n# # The mirrors are attempted in the specified order; the first one that can be\n# # contacted and contains the image will be used (and if none of the mirrors contains the image,\n# # the primary location specified by the "registry.location" field, or using the unmodified\n# # user-specified reference, is tried last).\n# #\n# # Each TOML table in the "mirror" array can contain the following fields, with the same semantics\n# # as if specified in the [[registry]] TOML table directly:\n# # - location\n# # - insecure\n# [[registry.mirror]]\n# location = "example-mirror-0.local/mirror-for-foo"\n# [[registry.mirror]]\n# location = "example-mirror-1.local/mirrors/foo"\n# insecure = true\n# # Given the above, a pull of example.com/foo/image:latest will try:\n# # 1. example-mirror-0.local/mirror-for-foo/image:latest\n# # 2. example-mirror-1.local/mirrors/foo/image:latest\n# # 3. internal-registry-for-example.net/bar/image:latest\n# # in order, and use the first one that exists.\n#\n# short-name-mode="enforcing"\n\n[[registry]]\nlocation="localhost:5000"\ninsecure=true\n')),(0,o.kt)("h3",{id:"mountsconf"},(0,o.kt)("a",{parentName:"h3",href:"https://raw.githubusercontent.com/containers/common/main/pkg/subscriptions/mounts.conf"},"mounts.conf")),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"/usr/share/containers/mounts.conf")," and optionally ",(0,o.kt)("inlineCode",{parentName:"p"},"/etc/containers/mounts.conf")),(0,o.kt)("p",null,"The mounts.conf files specify volume mount directories that are automatically mounted inside containers when executing the ",(0,o.kt)("inlineCode",{parentName:"p"},"podman run")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"podman build")," commands. Container process can then use this content. The volume mount content does not get committed to the final image."),(0,o.kt)("p",null,"Usually these directories are used for passing secrets or credentials required by the package software to access remote package repositories."),(0,o.kt)("p",null,'For example, a mounts.conf with the line "',(0,o.kt)("inlineCode",{parentName:"p"},"/usr/share/rhel/secrets:/run/secrets"),'", the content of ',(0,o.kt)("inlineCode",{parentName:"p"},"/usr/share/rhel/secrets")," directory is mounted on ",(0,o.kt)("inlineCode",{parentName:"p"},"/run/secrets")," inside the container. This mountpoint allows Red Hat Enterprise Linux subscriptions from the host to be used within the container."),(0,o.kt)("p",null,"Note this is not a volume mount. The content of the volumes is copied into container storage, not bind mounted directly from the host."),(0,o.kt)("h4",{id:"example-from-the-fedora-containers-common-package-1"},"Example from the Fedora ",(0,o.kt)("inlineCode",{parentName:"h4"},"containers-common")," package:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"cat /usr/share/containers/mounts.conf\n/usr/share/rhel/secrets:/run/secrets\n")),(0,o.kt)("h3",{id:"seccompjson"},(0,o.kt)("a",{parentName:"h3",href:"https://raw.githubusercontent.com/containers/common/main/pkg/seccomp/seccomp.json"},"seccomp.json")),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"/usr/share/containers/seccomp.json")),(0,o.kt)("p",null,"seccomp.json contains the whitelist of seccomp rules to be allowed inside of\ncontainers. This file is usually provided by the containers-common package."),(0,o.kt)("p",null,"The link above takes you to the seccomp.json"),(0,o.kt)("h3",{id:"policyjson"},(0,o.kt)("a",{parentName:"h3",href:"https://raw.githubusercontent.com/containers/image/main/default-policy.json"},"policy.json")),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"/etc/containers/policy.json")),(0,o.kt)("h4",{id:"man-page-policyjson5"},"Man Page: ",(0,o.kt)("a",{parentName:"h4",href:"https://github.com/containers/image/blob/main/docs/containers-policy.json.5.md"},"policy.json.5")),(0,o.kt)("h4",{id:"example-from-the-fedora-containers-common-package-2"},"Example from the Fedora ",(0,o.kt)("inlineCode",{parentName:"h4"},"containers-common")," package:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'cat /etc/containers/policy.json\n{\n    "default": [\n        {\n            "type": "insecureAcceptAnything"\n        }\n    ],\n    "transports":\n        {\n            "docker-daemon":\n                {\n                    "": [{"type":"insecureAcceptAnything"}]\n                }\n        }\n}\n')))}c.isMDXComponent=!0}}]);